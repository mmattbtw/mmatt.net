---
const { frontmatter } = Astro.props;
import Layout from "./Layout.astro";
---

<Layout
  title={frontmatter.title + " - mmatt.net"}
  description={frontmatter.description}
  imgUrl={frontmatter.imgUrl}
  blog
>
  <div
    class="lg:ml-auto lg:mr-auto ml-5 mr-5 mb-5 prose lg:prose-xl prose-invert max-w-6xl prose-a:underline hover:prose-a:no-underline prose-a:transition-all prose-a:text-white hover:prose-a:bg-white hover:prose-a:text-black hover:prose-a:p-0.5 hover:prose-a:rounded"
  >
    <div>
      <div class="flex flex-col items-center text-center">
        <img
          src={frontmatter.imgUrl}
          class="rounded"
          alt={`Thumbnail for the ${frontmatter.title} blog post.`}
        />
        <div>
          <h1>{frontmatter.title}</h1>
          <p class="text-lg font-semibold">
            {frontmatter.description}
          </p>
        </div>
        <div class="text-gray-400 mb-0">
          <p class="text-sm">{frontmatter.date} - {frontmatter.category}</p>
        </div>
      </div>
      <hr />
    </div>
    <slot />
  </div>

  {
    !frontmatter.unlisted && (
      <div class="max-w-6xl mb-10 ml-auto mr-auto">
        <script
          src="https://giscus.app/client.js"
          data-repo="mmattbtw/mmatt.net-discussions"
          data-repo-id="R_kgDOH54_Mw"
          data-category="General"
          data-category-id="DIC_kwDOH54_M84CRH3m"
          data-mapping="url"
          data-strict="0"
          data-reactions-enabled="1"
          data-emit-metadata="0"
          data-input-position="top"
          data-theme="preferred_color_scheme"
          data-lang="en"
          data-loading="lazy"
          crossorigin="anonymous"
          async
        />
      </div>
    )
  }
</Layout>
